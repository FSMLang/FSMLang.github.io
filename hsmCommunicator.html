<!DOCTYPE html>
<html>
<!--
	hsmCommunicator.html

	This file automatically generated by FSMLang

-->

<head>
<title>FSM Lang : hsmCommunicator</title>
<link REL=stylesheet type="text/css" href="fsmlang.css">
</head><body>
<h2>hsmCommunicator</h2>
<p>
   <p>This machine manages communications using a "stop and wait" protocol.
      Only one message is allowed to be outstanding.
	 </p>

	 <p>Before any message can be exchanged, however, a session must be established
      with the peer.  Establishing a connection requires several exchanges to
      authenticate.  The connection will remain active as long as messages
      continue to be exchanged with a minimum frequency.
   </p>
</p>
<img src="hsmCommunicator.svg" alt="PlantUML diagram separately generated."/>
<div class="scrollable">
<table class="machine">
	<thead>
		<tr>
			<th class="blankCorner">&nbsp;</th>
			<th class=eventName>SEND_MESSAGE</th>
			<th class=eventName>SESSION_ESTABLISHED</th>
			<th class=eventName>SESSION_TIMEOUT</th>
		</tr>
	</thead>
	<tbody>
		<tr>
		<th class=stateName>IDLE</th>
		<td class=action>startSessionEstablishment<br/>returns:
	<ul class="return_decl">
		<li>SEND_MESSAGE</li>
	</ul>
<br/><b>transition</b> : ESTABLISHING_SESSION</td>
		<td class=nullAction>&nbsp;<br/><b>transition</b> : none</td>
		<td class=nullAction>&nbsp;<br/><b>transition</b> : none</td>
	</tr>
	<tr>
		<th class=stateName>ESTABLISHING_SESSION</th>
		<td class=action>requestMessageTransmission<br/>returns:
	<ul class="return_decl">
		<li>sendMessage::SEND_MESSAGE</li>
	</ul>
<br/><b>transition</b> : none</td>
		<td class=action>completeSessionStart<br/>returns:
	<ul class="return_decl">
		<li>sendMessage::SESSION_ESTABLISHED</li>
	</ul>
<br/><b>transition</b> : IN_SESSION</td>
		<td class=action>notifySessionTimeout<br/>returns:
	<ul class="return_decl">
		<li>sendMessage::SESSION_TIMEOUT</li>
	</ul>
<br/><b>transition</b> : IDLE</td>
	</tr>
	<tr>
		<th class=stateName>IN_SESSION</th>
		<td class=action>requestMessageTransmission<br/>returns:
	<ul class="return_decl">
		<li>sendMessage::SEND_MESSAGE</li>
	</ul>
<br/><b>transition</b> : none</td>
		<td class=nullAction>&nbsp;<br/><b>transition</b> : none</td>
		<td class=action>notifySessionTimeout<br/>returns:
	<ul class="return_decl">
		<li>sendMessage::SESSION_TIMEOUT</li>
	</ul>
<br/><b>transition</b> : IDLE</td>
	</tr>
	</tbody>
</table>
</div>
<table class="elements">
<tr>
<th colspan=2 align=left>Events</th>
</tr>
<tr>
<td class="label">SEND_MESSAGE</td>
<td>&nbsp;</td>
</tr>
<tr>
<td class="label">SESSION_ESTABLISHED</td>
<td>&nbsp;</td>
</tr>
<tr>
<td class="label">SESSION_TIMEOUT</td>
<td>&nbsp;</td>
</tr>
</table>
<table class="elements">
<tr>
<th colspan=2 align=left>States</th>
</tr>
<tr>
<td class="label">IDLE</td>
<td>&nbsp;</td>
</tr>
<tr>
<td class="label">ESTABLISHING_SESSION</td>
<td> The work in this state is done by the establishSession sub-machine </td>
</tr>
<tr>
<td class="label">IN_SESSION</td>
<td>&nbsp;</td>
</tr>
</table>
<table class="elements">
<tr>
<th colspan=2 align=left>Actions</th>
</tr>
<tr>
<td class="label">startSessionEstablishment</td>
<td>

		Start the session establishment process by activating the <i>establishSession</i> machine.
  
<br/><br/>Returns:<ul class="return_decl">		<li>SEND_MESSAGE</li>
</ul>
</td>
</tr>
<tr>
<td class="label">completeSessionStart</td>
<td>

		Start the session timer and notify the <i>sendMessage</i> machine that the session is
		 established.
	
<br/><br/>Returns:<ul class="return_decl">		<li>sendMessage::SESSION_ESTABLISHED</li>
</ul>
</td>
</tr>
<tr>
<td class="label">notifySessionTimeout</td>
<td>

		Notify the <i>sendMessage</i> machine that the session has timed-out.
  
<br/><br/>Returns:<ul class="return_decl">		<li>sendMessage::SESSION_TIMEOUT</li>
</ul>
</td>
</tr>
<tr>
<td class="label">requestMessageTransmission</td>
<td>

		Extend the session timer and pass the message to be sent to the <i>sendMessage</i> machine.
	
<br/><br/>Returns:<ul class="return_decl">		<li>sendMessage::SEND_MESSAGE</li>
</ul>
</td>
</tr>
</table>
<table class="elements">
<tr>
<th colspan=2 align=left>Sub Machines</th>
</tr>
<tr>
<td class="label"><a href="establishSession.html" target="_blank">establishSession</a></td>
<td>

		Establish a connection with the peer.
  </td>
</tr>
<tr>
<td class="label"><a href="sendMessage.html" target="_blank">sendMessage</a></td>
<td>

	   Transmit message to the peer.
	  </td>
</tr>
</table>
</body>

</html>
