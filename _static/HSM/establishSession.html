<!DOCTYPE html>
<html>
<!--
	establishSession.html

	This file automatically generated by FSMLang

-->
<head>
<title>FSM Lang : establishSession</title>
<script>window.name="FSMLang-establishSession"</script>
<link REL=stylesheet type="text/css" href="fsmlang.css">
</head><body>
<h2>hsmCommunicator::establishSession</h2>
<p>

    Establish a connection with the peer.
    

    Two messages must be exchanged with the peer to successfully establish the session.  The machine needs
    only two states, IDLE and AWAITING_RESPONSE since the top level machine tracks whether or not it is in a
    session.  The AWAITING_RESPONSE state serves for both required messages, since the receipt of each message produces
    a unique event.
    

    When the STEP1_RESPONSE event is received, the session is considered established.  This machine will then
    return the parent's SESSION_ESTABLISHED message and move to its IDLE state.
    
    </p>
<table class='machine_stats'>
	<tbody>
		<tr><th>Number of events</th><td>4</td></tr>
		<tr><th>Events not handled</th><td>0</td></tr>
		<tr><th>Events handled in one state</th><td>4</td></tr>
		<tr><th>At least one event handled the same in all states?</th><td>no</td></tr>
		<tr><th>Number of states</th><td>2</td></tr>
		<tr><th>Number of states with entry functions</th><td>0</td></tr>
		<tr><th>Number of states with exit functions</th><td>0</td></tr>
		<tr><th>States handling no events</th><td>0</td></tr>
		<tr><th>States handling exactly one event</th><td>1</td></tr>
		<tr><th>States with no way in</th><td>0</td></tr>
		<tr><th>States with no way out</th><td>0</td></tr>
	</tbody>
</table>
<div class="scrollable">
<table class="machine">
	<thead>
		<tr>
			<th class="blankCorner">&nbsp;</th>
			<th class='eventName'>ESTABLISH_SESSION_REQUEST</th>
			<th class='eventName'>STEP0_RESPONSE</th>
			<th class='eventName'>STEP1_RESPONSE</th>
			<th class='eventName'>(hsmCommunicator::) MESSAGE_RECEIVED</th>
		</tr>
	</thead>
	<tbody>
	<tr>
		<th class=stateName>IDLE</th>
		<td class=action>sendStep0Message<br/>returns:
	<ul class="return_decl">
		<li>noEvent</li>
	</ul>
<br/><b>transition</b> : AWAITING_RESPONSE<p class="transition_comment"> Start the session establishment process. </p></td>
		<td class=nullAction><br/><b>transition</b> : none</td>
		<td class=nullAction><br/><b>transition</b> : none</td>
		<td class=nullAction><br/><b>transition</b> : none</td>
	</tr>
	<tr>
		<th class=stateName>AWAITING_RESPONSE</th>
		<td class=nullAction><br/><b>transition</b> : none</td>
		<td class=action>sendStep1Message<br/>returns:
	<ul class="return_decl">
		<li>noEvent</li>
	</ul>
<br/><b>transition</b> : none<p class="transition_comment"> Continue session establisment </p></td>
		<td class=action>notifyParent<br/>returns:
	<ul class="return_decl">
		<li>hsmCommunicator::SESSION_ESTABLISHED</li>
	</ul>
<br/><b>transition</b> : IDLE<p class="transition_comment"> Notify parent that session is established. </p></td>
		<td class=action>parseMessage<br/>returns:
	<ul class="return_decl">
		<li>STEP0_RESPONSE</li>
		<li>STEP1_RESPONSE</li>
		<li>noEvent</li>
	</ul>
<br/><b>transition</b> : none<p class="transition_comment"> Parse the incoming message </p></td>
	</tr>
	</tbody>
</table>
</div>
<table class="elements">
<thead><tr>
<th colspan='2' align='left'>Events</th>
</tr>
</thead>
<tbody>
<tr>
	<td colspan='2' align='left'>
<table class='summary'>
<tr><th>Total number of events:</th><td>4</td></tr>
<tr><th>Events with no handlers:</th><td>0</td></tr>
<tr><th>Events with one handler:</th><td>4</td></tr>
<tr><th>Average event state density:</th><td>50%</td></tr>
</table>
	</td>
</tr>
<tr>
<td class="label">ESTABLISH_SESSION_REQUEST</td>
<td>
<p>Handled In 1 of 2 (50 %) States:</p>
	<ul>
		<li>IDLE</li>
	</ul>
<p>Causes these actions to be taken:</p>
	<ul>
		<li>sendStep0Message</li>
	</ul>
</td>
</tr>
<tr>
<td class="label">STEP0_RESPONSE</td>
<td>
<p>Handled In 1 of 2 (50 %) States:</p>
	<ul>
		<li>AWAITING_RESPONSE</li>
	</ul>
<p>Causes these actions to be taken:</p>
	<ul>
		<li>sendStep1Message</li>
	</ul>
</td>
</tr>
<tr>
<td class="label">STEP1_RESPONSE</td>
<td>
<p>Handled In 1 of 2 (50 %) States:</p>
	<ul>
		<li>AWAITING_RESPONSE</li>
	</ul>
<p>Causes these actions to be taken:</p>
	<ul>
		<li>notifyParent</li>
	</ul>
</td>
</tr>
<tr>
<td class="label">(hsmCommunicator::) MESSAGE_RECEIVED</td>
<td>
<p>Handled In 1 of 2 (50 %) States:</p>
	<ul>
		<li>AWAITING_RESPONSE</li>
	</ul>
<p>Causes these actions to be taken:</p>
	<ul>
		<li>parseMessage</li>
	</ul>
</td>
</tr>
</tbody>
</table>
<table class="elements">
<thead><tr>
<th colspan=2 align=left>States</th>
</tr>
</thead>
<tbody>
<tr><td colspan='2' align='left'>
<table class='summary'>
<tr><th>Total number of states:</th><td>2</td></tr>
<tr><th>States with no events:</th><td>0</td></tr>
<tr><th>States with one event:</th><td>1</td></tr>
<tr><th>States with no way in:</th><td>0</td></tr>
<tr><th>States with no way out:</th><td>0</td></tr>
<tr><th>Average state event density:</th><td>50%</td></tr>
</table>
	</td>
</tr>
<tr>
<td class='label'>IDLE</td>
<td>
<p>Inbound Transitions:</p>
	<ul>
		<li>AWAITING_RESPONSE</li>
</ul>
<p>Outbound Transitions:</p>
	<ul>
		<li>AWAITING_RESPONSE</li>
</ul>
<p>Events Handled (1 of 4 for 25%):</p>
	<ul>
		<li>ESTABLISH_SESSION_REQUEST</li>
	</ul>
<p>Actions Taken:
</p>
	<ul>
		<li>sendStep0Message</li>
	</ul>
</td></tr>
<tr>
<td class='label'>AWAITING_RESPONSE</td>
<td>
<p>Inbound Transitions:</p>
	<ul>
		<li>IDLE</li>
</ul>
<p>Outbound Transitions:</p>
	<ul>
		<li>IDLE</li>
</ul>
<p>Events Handled (3 of 4 for 75%):</p>
	<ul>
		<li>STEP0_RESPONSE</li>
		<li>STEP1_RESPONSE</li>
		<li>MESSAGE_RECEIVED</li>
	</ul>
<p>Actions Taken:
</p>
	<ul>
		<li>sendStep1Message</li>
		<li>notifyParent</li>
		<li>parseMessage</li>
	</ul>
</td></tr>
</tbody>
</table>
<table class="elements">
<thead><tr>
<th colspan=2 align=left>Actions</th>
</tr>
</thead>
<tbody>
<tr>
<td class="label">sendStep0Message</td>
<td>

<br/><br/>Returns:<ul class="return_decl">		<li>noEvent</li>
</ul>
<p>Matrices:</p>
	<ul>
		<li>ESTABLISH_SESSION_REQUEST, IDLE transitions to state AWAITING_RESPONSE		</li>	</ul>
</td>
</tr>
<tr>
<td class="label">sendStep1Message</td>
<td>

<br/><br/>Returns:<ul class="return_decl">		<li>noEvent</li>
</ul>
<p>Matrices:</p>
	<ul>
		<li>STEP0_RESPONSE, AWAITING_RESPONSE		</li>	</ul>
</td>
</tr>
<tr>
<td class="label">notifyParent</td>
<td>

<br/><br/>Returns:<ul class="return_decl">		<li>hsmCommunicator::SESSION_ESTABLISHED</li>
</ul>
<p>Matrices:</p>
	<ul>
		<li>STEP1_RESPONSE, AWAITING_RESPONSE transitions to state IDLE		</li>	</ul>
</td>
</tr>
<tr>
<td class="label">parseMessage</td>
<td>

<p>Handles an event shared from hsmCommunicator</p>

<br/><br/>Returns:<ul class="return_decl">		<li>STEP0_RESPONSE</li>
		<li>STEP1_RESPONSE</li>
		<li>noEvent</li>
</ul>
<p>Matrices:</p>
	<ul>
		<li>MESSAGE_RECEIVED, AWAITING_RESPONSE		</li>	</ul>
</td>
</tr>
</tbody>
</table>
</body>
</html>
